{"paragraphs":[{"title":"Load Dependencies","text":"%dep\nz.load(\"mysql:mysql-connector-java:6.0.5\")","dateUpdated":"Nov 12, 2016 10:51:02 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala","title":true,"editorHide":false},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1478988398634_274653649","id":"20161112-220638_838577137","result":{"code":"ERROR","type":"TEXT","msg":"Must be used before SparkInterpreter (%spark) initialized\nHint: put this paragraph before any Spark code and restart Zeppelin/Interpreter"},"dateCreated":"Nov 12, 2016 10:06:38 PM","dateStarted":"Nov 12, 2016 10:51:02 PM","dateFinished":"Nov 12, 2016 10:51:02 PM","status":"ERROR","progressUpdateIntervalMs":500,"$$hashKey":"object:842"},{"title":"Spark Streaming","text":"import org.apache.spark._\nimport org.apache.spark.rdd.JdbcRDD\nimport java.sql.{DriverManager, ResultSet}\n\ndef createConnection() = {\n    Class.forName(\"com.mysql.jdbc.Driver\").newInstance();\n    DriverManager.getConnection(\"jdbc:mysql://3.3.0.6:3306/chuck?user=chuck&password=norris\");\n}\n\nval data = new JdbcRDD(sc,\n    createConnection, \"SELECT * FROM `jokes` WHERE lang='en' AND ? <= ID AND ID <= ?\",\n    lowerBound = 1, upperBound = 5000, numPartitions = 10, mapRow = r => r.getString(\"joke\"))\ndata\n    .flatMap(line => line.replaceAll(\"[.,;\\']\", \" \") // strip unwanted tags\n    .toLowerCase().split(\" \")) // split by whitespace\n    .filter(_.length > 3)\n    .map(word => (word, 1)) // map by words\n    .reduceByKey(_+_) // sum values by word\n    .toDF(\"word\", \"count\")\n    .registerTempTable(\"wordcount\")\n","dateUpdated":"Nov 12, 2016 10:51:02 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"title":true,"tableHide":false,"editorHide":false},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1478988502122_1154528411","id":"20161112-220822_2047015107","result":{"code":"SUCCESS","type":"TEXT","msg":"import org.apache.spark._\nimport org.apache.spark.rdd.JdbcRDD\nimport java.sql.{DriverManager, ResultSet}\ncreateConnection: ()java.sql.Connection\ndata: org.apache.spark.rdd.JdbcRDD[String] = JdbcRDD[131] at JdbcRDD at <console>:197\n"},"dateCreated":"Nov 12, 2016 10:08:22 PM","dateStarted":"Nov 12, 2016 10:51:02 PM","dateFinished":"Nov 12, 2016 10:51:05 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:843"},{"title":"Display Word Count","text":"%sql select word, count from wordcount\n    order by count desc limit 20","dateUpdated":"Nov 12, 2016 10:51:02 PM","config":{"colWidth":12,"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"keys":[{"name":"word","index":0,"aggr":"sum"}],"values":[{"name":"count","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"word","index":0,"aggr":"sum"},"yAxis":{"name":"count","index":1,"aggr":"sum"}}},"enabled":true,"editorMode":"ace/mode/sql","title":true,"editorHide":false},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1478988914868_297522400","id":"20161112-221514_1322927071","result":{"code":"SUCCESS","type":"TABLE","msg":"word\tcount\nchuck\t4452\nnorris\t4276\nwith\t547\nthat\t452\nwhen\t429\nonce\t327\nroundhouse\t226\nbecause\t223\nyour\t219\nonly\t208\nfrom\t198\njust\t188\nthey\t174\nwill\t169\ndoesn\t168\nhave\t163\nkick\t162\nface\t151\nthen\t135\ninto\t135\n","comment":"","msgTable":[[{"key":"count","value":"chuck"},{"key":"count","value":"4452"}],[{"value":"norris"},{"value":"4276"}],[{"value":"with"},{"value":"547"}],[{"value":"that"},{"value":"452"}],[{"value":"when"},{"value":"429"}],[{"value":"once"},{"value":"327"}],[{"value":"roundhouse"},{"value":"226"}],[{"value":"because"},{"value":"223"}],[{"value":"your"},{"value":"219"}],[{"value":"only"},{"value":"208"}],[{"value":"from"},{"value":"198"}],[{"value":"just"},{"value":"188"}],[{"value":"they"},{"value":"174"}],[{"value":"will"},{"value":"169"}],[{"value":"doesn"},{"value":"168"}],[{"value":"have"},{"value":"163"}],[{"value":"kick"},{"value":"162"}],[{"value":"face"},{"value":"151"}],[{"value":"then"},{"value":"135"}],[{"value":"into"},{"value":"135"}]],"columnNames":[{"name":"word","index":0,"aggr":"sum"},{"name":"count","index":1,"aggr":"sum"}],"rows":[["chuck","4452"],["norris","4276"],["with","547"],["that","452"],["when","429"],["once","327"],["roundhouse","226"],["because","223"],["your","219"],["only","208"],["from","198"],["just","188"],["they","174"],["will","169"],["doesn","168"],["have","163"],["kick","162"],["face","151"],["then","135"],["into","135"]]},"dateCreated":"Nov 12, 2016 10:15:14 PM","dateStarted":"Nov 12, 2016 10:51:02 PM","dateFinished":"Nov 12, 2016 10:51:06 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:844","focus":true},{"dateUpdated":"Nov 12, 2016 10:51:02 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorHide":false},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1478990369388_-1125811566","id":"20161112-223929_1627919027","result":{"code":"SUCCESS","type":"TEXT"},"dateCreated":"Nov 12, 2016 10:39:29 PM","dateStarted":"Nov 12, 2016 10:51:05 PM","dateFinished":"Nov 12, 2016 10:51:06 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:845"}],"name":"Chuck Norris Analysis","id":"2C1TGQNP6","angularObjects":{"2C15ZQKG3":[],"2BZZZV561":[],"2C19BC4RA":[],"2BZGCNHQF":[],"2C282CQPC":[],"2C3PV5H6H":[],"2C1A8CFGZ":[],"2C3X57G7R":[],"2C36WN68U":[],"2C3XBGDBG":[],"2BZZMSBA8":[],"2C26Z9158":[],"2C31ESYNS":[],"2C18PEQP4":[]},"config":{"looknfeel":"default"},"info":{}}